{
    "title": "Smalldb Flupdo CRUD State Machine",
    "extends_file": "FlupdoMachine.schema.json",
    "type": "object",
    "required": [ ],
    "properties": {
        "user_id_table_column": {
            "description": "Table column containing user (owner) ID.",
            "type": ["null", "string"]
        },
        "owner_relation": {
            "description": "Relation to owner state machine of this state machine.",
            "type": ["null", "string"]
        },
        "owner_create_transition": {
            "description": "Name of the owner state machine's transition which must be allowed to create a new instance of this state machine.",
            "type": ["null", "string"]
        },
        "generate_random_id": {
            "description": "Generate random ID if not specified.",
            "type": ["null", "bool"]
        },
        "time_created_table_column": {
            "description": "Column to store time of creation.",
            "type": ["null", "string"]
        },
        "time_modified_table_column": {
            "description": "Column to store time of last modification (or creation if not yet modified)",
            "type": ["null", "string"]
        },
        "nested_sets": {
            "description": "Implementation of a tree structure using nested sets.",
            "type": ["null", "object" ],
            "properties": {
                "table_columns": {
                    "description": "Columns used for storing nested sets numbering.",
                    "type": "object",
                    "properties": {
                        "id": {
                            "description": "Column name of the primary key",
                            "type": "string",
                            "default": "id"
                        },
                        "parent_id": {
                            "description": "Column name of the reference to parent in the tree (foreign key to id column).",
                            "type": "string",
                            "default": "parent_id"
                        },
                        "left": {
                            "description": "Column name of the left number (updated by FlupdoCrudMachine).",
                            "type": "string",
                            "default": "tree_left"
                        },
                        "right": {
                            "description": "Column name of the right number (updated by FlupdoCrudMachine).",
                            "type": "string",
                            "default": "tree_right"
                        },
                        "depth": {
                            "description": "Column name of the depth in the tree (updated by FlupdoCrudMachine).",
                            "type": "string",
                            "default": "tree_depth"
                        }
                    }
                },
                "order_by": {
                    "description": "Column name used to order the tree nodes.",
                    "type": "string"
                },
                "enabled": {
                    "description": "Enable nested sets updates",
                    "type": "bool",
                    "default": false
                }
            }
        },
        "no_default_machine": {
            "description": "Disable initialization with a default state machine diagram. Useful when custom state diagram is provided.",
            "type": "bool"
        },
        "io_name": {
            "description": "Name of inputs and outputs used for generated cascade blocks.",
            "type": "string",
            "default": "item"
        }
    }
}

